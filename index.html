<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Receta Meta Ads 2026 - Soy Brillante</title>

  <!-- Tipograf√≠as -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700;900&family=Playfair+Display:wght@400;600;700;900&display=swap"
    rel="stylesheet"
  />

  <!-- React/ReactDOM -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

  <!-- Babel para JSX -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Tailwind config -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ["Lato", "system-ui", "-apple-system", "Segoe UI", "Roboto", "Helvetica Neue", "Arial", "sans-serif"],
            display: ["Playfair Display", "Georgia", "serif"],
          },
          colors: {
            gold: "#ffd700",
            muted: "#b0b0b0",
            success: "#4caf50",
            danger: "#ff5252",
          },
          animation: {
            "spin-slow": "spin 8s linear infinite",
            "bounce-slow": "bounce 3s infinite",
            "fade-in": "fadeIn 0.5s ease-out",
            "fade-in-up": "fadeInUp 0.8s ease-out forwards",
          },
          keyframes: {
            fadeIn: { "0%": { opacity: "0" }, "100%": { opacity: "1" } },
            fadeInUp: { "0%": { opacity: "0", transform: "translateY(20px)" }, "100%": { opacity: "1", transform: "translateY(0)" } },
          },
        },
      },
    };
  </script>

  <style>
    :root{
      --bg-dark: #0f0c29;
      --bg-gradient: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
      --gold: #ffd700;
      --glass-bg: rgba(255, 255, 255, 0.10);
      --glass-border: rgba(255, 255, 255, 0.20);
      --text-white: #f0f0f0;
      --text-muted: #b0b0b0;
      --success: #4caf50;
      --danger: #ff5252;
    }

    * { box-sizing: border-box; }
    body {
      margin: 0; padding: 0;
      font-family: 'Lato', sans-serif;
      background: var(--bg-gradient);
      color: var(--text-white);
      min-height: 100vh;
      overflow-x: hidden;
    }

    .font-display { font-family: "Playfair Display", serif; }

    /* Glass utilities */
    .glass{
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border: 1px solid var(--glass-border);
      border-radius: 16px;
      box-shadow: 0 4px 30px rgba(0,0,0,0.15);
    }
    .glass-strong{
      background: rgba(15, 12, 41, 0.92);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(255, 215, 0, 0.45);
    }

    /* Gold lines */
    .gold-line{
      border: 0;
      height: 1px;
      background: var(--gold);
      opacity: 0.55;
    }
    .gold-line.center{
      width: 60%;
      margin: 18px auto 0;
      opacity: 0.65;
    }
    .gold-line.full{
      width: 100%;
      margin: 0;
      opacity: 0.22;
    }

    .gold-grad{
      background: linear-gradient(45deg, var(--gold), #ffecb3);
    }

    /* BOT√ìN DORADO REAL */
    .btn-gold{
      background: linear-gradient(45deg, var(--gold), #ffecb3);
      color: #2a2a2a;
      border: none;
      padding: 12px 22px;
      border-radius: 999px;
      font-weight: 900;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      box-shadow: 0 0 18px rgba(255,215,0,0.38);
      transition: transform .12s ease, box-shadow .12s ease, filter .12s ease;
      user-select: none;
    }
    .btn-gold:hover{
      filter: brightness(1.03);
      box-shadow: 0 0 22px rgba(255,215,0,0.50);
      transform: translateY(-1px);
    }
    .btn-gold:active{
      transform: translateY(0) scale(0.99);
      box-shadow: 0 0 14px rgba(255,215,0,0.35);
    }
    .btn-gold:disabled{
      opacity: .55;
      filter: none;
      box-shadow: none;
      cursor: not-allowed;
      transform: none;
    }

    /* BADGE DORADO (metallic) */
    .badge-gold{
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 5px 10px;
      border-radius: 999px;
      font-size: 0.72rem;
      font-weight: 900;
      letter-spacing: 0.4px;
      text-transform: uppercase;
      color: #1f1f1f;
      background: linear-gradient(45deg, var(--gold), #ffecb3);
      box-shadow: 0 0 14px rgba(255,215,0,0.28);
      border: 1px solid rgba(255,255,255,0.25);
      white-space: nowrap;
    }

    /* PROGRESS SHINE (reflejo met√°lico) */
    .progress-wrap{
      position: relative;
      overflow: hidden;
      border-radius: 999px;
    }
    .progress-fill{
      position: relative;
      height: 100%;
      border-radius: 999px;
      overflow: hidden;
    }
    .progress-shine{
      position: absolute;
      top: 0;
      left: -40%;
      height: 100%;
      width: 35%;
      background: linear-gradient(
        90deg,
        rgba(255,255,255,0) 0%,
        rgba(255,255,255,0.22) 35%,
        rgba(255,255,255,0.06) 70%,
        rgba(255,255,255,0) 100%
      );
      transform: skewX(-18deg);
      animation: shine 2.2s ease-in-out infinite;
      pointer-events: none;
      mix-blend-mode: screen;
    }
    @keyframes shine{
      0% { left: -45%; opacity: 0.25; }
      35% { opacity: 0.40; }
      100% { left: 120%; opacity: 0.18; }
    }

    textarea::placeholder{ color: var(--text-muted); opacity: .85; }
  </style>
</head>

<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect, useMemo } = React;

    /* ICONOS */
    const IconBase = ({ children, className, ...props }) => (
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24" height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        strokeWidth="2"
        strokeLinecap="round"
        strokeLinejoin="round"
        className={className}
        {...props}
      >
        {children}
      </svg>
    );

    const Utensils = (props) => (
      <IconBase {...props}>
        <path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2" />
        <path d="M7 2v20" />
        <path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7" />
      </IconBase>
    );

    const ShieldCheck = (props) => (
      <IconBase {...props}>
        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10" />
        <path d="m9 12 2 2 4-4" />
      </IconBase>
    );

    const Flame = (props) => (
      <IconBase {...props}>
        <path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.1.2-2.2.6-3.3.037.19.1.373.18.552.17.38.45.72.82 1.048Z" />
      </IconBase>
    );

    const LayoutGrid = (props) => (
      <IconBase {...props}>
        <rect width="7" height="7" x="3" y="3" rx="1" />
        <rect width="7" height="7" x="14" y="3" rx="1" />
        <rect width="7" height="7" x="14" y="14" rx="1" />
        <rect width="7" height="7" x="3" y="14" rx="1" />
      </IconBase>
    );

    const LinkIcon = (props) => (
      <IconBase {...props}>
        <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" />
        <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" />
      </IconBase>
    );

    const Globe = (props) => (
      <IconBase {...props}>
        <circle cx="12" cy="12" r="10" />
        <line x1="2" x2="22" y1="12" y2="12" />
        <path d="a15.3 15.3 0 0 1 4-10 15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10" />
      </IconBase>
    );

    const TestTube2 = (props) => (
      <IconBase {...props}>
        <path d="M21 7 7 21" />
        <path d="M18 10l-1.5-1.5" />
        <path d="M15 13l-1.5-1.5" />
        <path d="M12 16l-1.5-1.5" />
        <path d="M9 19l-1.5-1.5" />
        <path d="M18 4h3" />
        <path d="M16 2l6 6" />
        <path d="M2 16l6 6" />
      </IconBase>
    );

    const ChefHat = (props) => (
      <IconBase {...props}>
        <path d="M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z" />
        <line x1="6" x2="18" y1="17" y2="17" />
      </IconBase>
    );

    const CheckCircle2 = (props) => (
      <IconBase {...props}>
        <circle cx="12" cy="12" r="10" />
        <path d="m9 12 2 2 4-4" />
      </IconBase>
    );

    const ChevronDown = (props) => (
      <IconBase {...props}>
        <path d="m6 9 6 6 6-6" />
      </IconBase>
    );

    const ChevronUp = (props) => (
      <IconBase {...props}>
        <path d="m18 15-6-6-6 6" />
      </IconBase>
    );

    const PartyPopper = (props) => (
      <IconBase {...props}>
        <path d="M5.8 11.3 2 22l10.7-3.79" />
        <path d="M4 3h.01" />
        <path d="M22 8h.01" />
        <path d="M15 2h.01" />
        <path d="M22 20h.01" />
        <path d="m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12v0c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10" />
        <path d="m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11v0c-.11.7-.72 1.22-1.43 1.22H17" />
        <path d="m11 2 .33.82c.34.86-.2 1.82-1.11 1.98v0C9.52 4.9 9 5.52 9 6.23V7" />
      </IconBase>
    );

    /* DATOS */
    const STEPS = [
      {
        id: "mise-en-place",
        title: "Mise en place",
        subtitle: "Ingredientes antes de prender la estufa",
        icon: <Utensils className="w-6 h-6 text-gold" />,
        tasks: [
          { id: "m1", text: "Acceso Admin al Business Portfolio de Aurana" },
          { id: "m2", text: "Acceso Admin a Shopify de Soy Brillante" },
          { id: "m3", text: "Tarjeta con fondos ($300 USD) lista" },
          { id: "m4", text: "10 minutos de paz mental" },
        ],
      },
      {
        id: "step-1",
        title: "Paso 1: Lava Manos",
        subtitle: "Seguridad y control (10 min)",
        icon: <ShieldCheck className="w-6 h-6 text-gold" />,
        tasks: [
          { id: "s1-1", text: "Activa 2FA en tu perfil y admins" },
          { id: "s1-2", text: "Agrega un 2do admin de respaldo" },
          { id: "s1-3", text: "Elimina usuarios/partners desconocidos" },
        ],
      },
      {
        id: "step-2",
        title: "Paso 2: Apaga el Incendio",
        subtitle: "Liquida la deuda (5-10 min)",
        icon: <Flame className="w-6 h-6 text-gold" />,
        tasks: [
          { id: "s2-1", text: "Ir a Billing & Payments en Meta" },
          { id: "s2-2", text: "Liquidar balance de Aurana ($300 USD)" },
          { id: "s2-3", text: "Configurar m√©todo de pago principal v√°lido" },
        ],
      },
      {
        id: "step-3",
        title: "Paso 3: Base Nueva",
        subtitle: "Crea assets limpios (15-25 min)",
        icon: <LayoutGrid className="w-6 h-6 text-gold" />,
        tasks: [
          { id: "s3-1", text: 'Crear Ad Account: "SB - Ads - 2026"' },
          { id: "s3-2", text: "Configurar Moneda y Zona Horaria correctamente" },
          { id: "s3-3", text: 'Crear Dataset/Pixel: "SB - Pixel - 2026"' },
          { id: "s3-4", text: "Asociar Pixel al Ad Account nuevo" },
        ],
      },
      {
        id: "step-4",
        title: "Paso 4: Conexi√≥n Perfecta",
        subtitle: "Shopify + Meta (20-40 min)",
        icon: <LinkIcon className="w-6 h-6 text-gold" />,
        tasks: [
          { id: "s4-1", text: 'Instalar canal "Facebook & Instagram" en Shopify' },
          { id: "s4-2", text: 'Conectar al Ad Account y Pixel "2026"' },
          { id: "s4-3", text: 'Activar Data Sharing en "Maximum" (CAPI)' },
          { id: "s4-4", text: "Verificar que NO haya pixeles pegados a mano en theme" },
        ],
      },
      {
        id: "step-5",
        title: "Paso 5: Control Sanitario",
        subtitle: "Dominios y Permisos (15-30 min)",
        icon: <Globe className="w-6 h-6 text-gold" />,
        tasks: [
          { id: "s5-1", text: "Verificar dominio soybrillantemx.com en Meta" },
          { id: "s5-2", text: "Configurar Traffic Permissions (Allow list) en Pixel" },
        ],
      },
      {
        id: "step-6",
        title: "Paso 6: Prueba de Sabor",
        subtitle: "Test de eventos final (10-15 min)",
        icon: <TestTube2 className="w-6 h-6 text-gold" />,
        tasks: [
          { id: "s6-1", text: "Abrir Test Events en Events Manager" },
          { id: "s6-2", text: "Simular compra en modo inc√≥gnito" },
          { id: "s6-3", text: "Confirmar eventos Browser + Server recibidos" },
        ],
      },
    ];

    const LS_PROGRESS_KEY = "meta-recipe-progress";
    const LS_NOTES_KEY = "meta-recipe-notes";

    function CookingApp() {
      const [completed, setCompleted] = useState(() => {
        try {
          const saved = localStorage.getItem(LS_PROGRESS_KEY);
          return saved ? JSON.parse(saved) : [];
        } catch (e) { return []; }
      });

      const [notes, setNotes] = useState(() => {
        try {
          const saved = localStorage.getItem(LS_NOTES_KEY);
          return saved ? JSON.parse(saved) : {};
        } catch (e) { return {}; }
      });

      const [expandedStep, setExpandedStep] = useState(STEPS[0].id);
      const [showConfetti, setShowConfetti] = useState(false);

      const totalTasks = useMemo(
        () => STEPS.reduce((acc, step) => acc + step.tasks.length, 0),
        []
      );

      const progressPercentage = Math.round((completed.length / totalTasks) * 100);

      const totalMainSteps = useMemo(
        () => STEPS.filter(s => s.id.startsWith("step-")).length,
        []
      );

      useEffect(() => {
        localStorage.setItem(LS_PROGRESS_KEY, JSON.stringify(completed));
      }, [completed]);

      useEffect(() => {
        localStorage.setItem(LS_NOTES_KEY, JSON.stringify(notes));
      }, [notes]);

      const toggleTask = (taskId) => {
        setCompleted((prev) => {
          if (prev.includes(taskId)) return prev.filter((id) => id !== taskId);
          const next = [...prev, taskId];
          if (next.length === totalTasks) setShowConfetti(true);
          return next;
        });
      };

      const updateNote = (taskId, value) => {
        setNotes((prev) => ({ ...prev, [taskId]: value }));
      };

      const getCookingStage = () => {
        if (progressPercentage === 0) return { emoji: "ü•£", text: "Olla Vac√≠a", desc: "¬°A juntar ingredientes!" };
        if (progressPercentage < 20) return { emoji: "üî™", text: "Picando", desc: "Mise en place listo..." };
        if (progressPercentage < 40) return { emoji: "üî•", text: "Prendiendo Fuego", desc: "La sart√©n se calienta" };
        if (progressPercentage < 60) return { emoji: "ü•ò", text: "Cocinando", desc: "Huele a √©xito..." };
        if (progressPercentage < 80) return { emoji: "üßÇ", text: "Sazonando", desc: "Casi listo para servir" };
        if (progressPercentage < 100) return { emoji: "üçΩÔ∏è", text: "Emplatando", desc: "√öltimos detalles" };
        return { emoji: "üåü", text: "¬°Chef Estrella!", desc: "¬°Receta completada!" };
      };

      const stage = getCookingStage();
      const isStepComplete = (step) => step.tasks.every((t) => completed.includes(t.id));

      const resetAll = () => {
        setCompleted([]);
        setNotes({});
        localStorage.removeItem(LS_PROGRESS_KEY);
        localStorage.removeItem(LS_NOTES_KEY);
        setShowConfetti(false);
      };

      const goNextStep = () => {
        const idx = STEPS.findIndex(s => s.id === expandedStep);
        const nextIdx = Math.min(idx + 1, STEPS.length - 1);
        const nextId = STEPS[nextIdx].id;
        setExpandedStep(nextId);

        requestAnimationFrame(() => {
          const el = document.getElementById(`step-${nextId}`);
          if (el) el.scrollIntoView({ behavior: "smooth", block: "start" });
        });
      };

      // Badge por etapa
      const getBadgeLabel = (step) => {
        if (step.id === "mise-en-place") return "Preparaci√≥n";
        const m = step.id.match(/^step-(\d+)$/);
        if (m) return `Paso ${m[1]} de ${totalMainSteps}`;
        return "Etapa";
      };

      return (
        <div className="min-h-screen font-sans pb-20 relative">
          {/* HEADER sticky */}
          <div className="sticky top-0 z-50 glass-strong">
            <div className="max-w-3xl mx-auto px-4 py-3">
              <div className="flex items-center justify-between mb-2">
                <h1 className="text-xl font-display font-bold text-gold flex items-center gap-2">
                  <ChefHat className="w-6 h-6 text-gold" />
                  Receta Meta Ads 2026
                </h1>
                <span className="font-bold text-[var(--text-muted)]">{progressPercentage}% Listo</span>
              </div>

              {/* Progress con shine met√°lico */}
              <div className="w-full h-4 bg-white/10 rounded-full border border-white/10 progress-wrap">
                <div
                  className="progress-fill gold-grad transition-all duration-500 ease-out flex items-center justify-end pr-1"
                  style={{ width: `${progressPercentage}%` }}
                >
                  {progressPercentage > 0 && <div className="progress-shine"></div>}
                  {progressPercentage > 0 && <div className="w-2 h-full bg-white/20 animate-pulse" />}
                </div>
              </div>

              <hr className="gold-line center" />
            </div>
          </div>

          <div className="max-w-3xl mx-auto px-4 py-8 relative z-10">
            {/* HERO */}
            <div className="glass rounded-3xl p-8 mb-8 text-center relative overflow-hidden">
              {progressPercentage === 100 && (
                <div className="absolute inset-0 pointer-events-none flex justify-center items-center">
                  <div className="animate-spin-slow text-9xl opacity-15">‚ú®</div>
                </div>
              )}

              <div className="text-8xl mb-4 animate-bounce-slow filter drop-shadow-lg">
                {stage.emoji}
              </div>

              <h2 className="text-3xl font-display font-black text-gold mb-2">
                {stage.text}
              </h2>
              <p className="text-lg text-[var(--text-muted)] font-medium">
                {stage.desc}
              </p>

              {/* BOT√ìN DORADO REAL */}
              <div className="mt-6 flex justify-center">
                <button
                  className="btn-gold"
                  onClick={goNextStep}
                  disabled={expandedStep === STEPS[STEPS.length - 1].id}
                  title={expandedStep === STEPS[STEPS.length - 1].id ? "Ya est√°s en la √∫ltima etapa" : "Ir a la siguiente etapa"}
                >
                  Siguiente etapa
                </button>
              </div>

              {progressPercentage === 100 && (
                <div className="mt-6 p-4 rounded-xl animate-fade-in-up"
                     style={{ background: "rgba(76,175,80,0.18)", border: "1px solid rgba(76,175,80,0.35)" }}>
                  <p className="font-bold text-xl flex items-center justify-center gap-2 text-white">
                    <PartyPopper className="w-6 h-6 text-[var(--success)]" /> ¬°Felicidades, Chef!
                  </p>
                  <p className="text-white/90">Tu infraestructura de anuncios est√° lista y blindada para 2026.</p>
                </div>
              )}
            </div>

            {/* ACCORDION */}
            <div className="space-y-4">
              {STEPS.map((step) => {
                const isComplete = isStepComplete(step);
                const isOpen = expandedStep === step.id;
                const completedCount = step.tasks.filter((t) => completed.includes(t.id)).length;

                return (
                  <div
                    key={step.id}
                    id={`step-${step.id}`}
                    className={`
                      glass rounded-2xl overflow-hidden transition-all duration-300
                      ${isComplete ? "opacity-90" : ""}
                      ${isOpen ? "ring-4 ring-gold/20" : ""}
                    `}
                    style={{
                      borderColor: isComplete ? "rgba(76,175,80,0.45)" : "rgba(255,255,255,0.20)"
                    }}
                  >
                    {/* Header clickeable */}
                    <button
                      onClick={() => setExpandedStep(isOpen ? null : step.id)}
                      className={`
                        w-full p-5 flex items-center justify-between text-left transition-colors
                        ${isOpen ? "bg-white/10" : "bg-white/5 hover:bg-white/10"}
                      `}
                    >
                      <div className="flex items-center gap-4">
                        <div
                          className={`
                            w-10 h-10 rounded-full flex items-center justify-center
                            bg-black/20 border border-white/10
                            ${isComplete ? "text-[var(--success)]" : "text-gold"}
                          `}
                        >
                          {isComplete ? <CheckCircle2 className="w-6 h-6" /> : step.icon}
                        </div>

                        <div>
                          {/* Badge dorado por etapa */}
                          <div className="flex items-center gap-2 mb-1">
                            <span className="badge-gold">{getBadgeLabel(step)}</span>
                            {isComplete && (
                              <span className="text-xs font-bold" style={{ color: "rgba(76,175,80,0.95)" }}>
                                ‚úì Completado
                              </span>
                            )}
                          </div>

                          <h3 className={`font-display font-bold text-lg leading-tight ${isComplete ? "line-through opacity-60" : "text-gold"}`}>
                            {step.title}
                          </h3>
                          <p className="text-sm text-[var(--text-muted)]">
                            {step.subtitle}
                          </p>
                        </div>
                      </div>

                      <div className="flex items-center gap-3">
                        <span className="text-xs font-bold bg-black/20 px-2 py-1 rounded-lg border border-white/10 text-[var(--text-muted)]">
                          {completedCount}/{step.tasks.length}
                        </span>
                        {isOpen ? <ChevronUp className="w-5 h-5 text-[var(--text-muted)]" /> : <ChevronDown className="w-5 h-5 text-[var(--text-muted)]" />}
                      </div>
                    </button>

                    {/* SEPARADOR DORADO POR ETAPA */}
                    <hr className="gold-line full" />

                    {/* Contenido */}
                    {isOpen && (
                      <div className="p-4 animate-fade-in" style={{ background: "rgba(0,0,0,0.18)" }}>
                        <div className="px-1 pb-3">
                          <div className="gold-line full" style={{ opacity: 0.16 }}></div>
                        </div>

                        <div className="space-y-3">
                          {step.tasks.map((task) => {
                            const isChecked = completed.includes(task.id);
                            const noteValue = notes?.[task.id] ?? "";

                            return (
                              <div
                                key={task.id}
                                className={`
                                  p-3 rounded-xl transition-all duration-200 border
                                  ${isChecked
                                    ? "bg-black/20 border-white/5 text-[var(--text-muted)]"
                                    : "bg-black/10 border-white/10 hover:border-gold/40 hover:shadow-md"}
                                `}
                              >
                                <label className="flex items-start gap-3 cursor-pointer">
                                  <div className="relative flex-shrink-0 mt-0.5">
                                    <input
                                      type="checkbox"
                                      className="peer sr-only"
                                      checked={isChecked}
                                      onChange={() => toggleTask(task.id)}
                                    />
                                    <div
                                      className={`
                                        w-6 h-6 rounded-md border-2 transition-colors flex items-center justify-center
                                        ${isChecked ? "bg-gold border-gold text-black" : "border-white/30 bg-black/10"}
                                      `}
                                    >
                                      {isChecked && <CheckCircle2 className="w-4 h-4" />}
                                    </div>
                                  </div>

                                  <span className={`text-base select-none transition-all ${isChecked ? "line-through opacity-70" : "text-white"}`}>
                                    {task.text}
                                  </span>
                                </label>

                                <div className="mt-3">
                                  <div className="flex items-center justify-between mb-1">
                                    <p className="text-xs font-bold text-[var(--text-muted)]">
                                      Notas / hist√≥rico
                                    </p>
                                    <p className="text-[10px] text-white/30">
                                      ID: {task.id}
                                    </p>
                                  </div>

                                  <textarea
                                    value={noteValue}
                                    onChange={(e) => updateNote(task.id, e.target.value)}
                                    placeholder="Escribe aqu√≠ lo que pas√≥: fecha, screenshots que tomaste, a qui√©n le pediste acceso, qu√© error sali√≥, qu√© resolviste, etc."
                                    className={`
                                      w-full min-h-[88px] resize-y rounded-xl border px-3 py-2 text-sm
                                      focus:outline-none focus:ring-2 focus:ring-gold/30
                                      ${isChecked ? "bg-black/25 border-white/10 text-white" : "bg-black/20 border-white/10 text-white"}
                                    `}
                                  />
                                </div>
                              </div>
                            );
                          })}
                        </div>

                        {completedCount === step.tasks.length && (
                          <div className="mt-4 text-center text-sm font-bold animate-bounce"
                               style={{ color: "rgba(76,175,80,0.95)" }}>
                            ¬°Etapa completada! Sigue as√≠ üî•
                          </div>
                        )}
                      </div>
                    )}
                  </div>
                );
              })}
            </div>

            {/* FOOTER */}
            <div className="mt-12 text-center text-sm pb-8">
              <p className="glass inline-block px-4 py-2 rounded-full text-[var(--text-muted)]">
                Cocinado con ‚ù§Ô∏è por Soy Brillante
              </p>

              <div className="mt-3">
                <button
                  onClick={() => {
                    if (confirm("¬øReiniciar toda la receta? (Esto borra progreso y notas)")) {
                      resetAll();
                    }
                  }}
                  className="text-xs underline px-3 py-2 rounded-full border border-white/10 bg-black/20 hover:border-[var(--danger)] hover:text-[var(--danger)] transition-colors"
                  style={{ color: "rgba(255,255,255,0.65)" }}
                >
                  Reiniciar receta
                </button>
              </div>
            </div>

          </div>
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById("root"));
    root.render(<CookingApp />);
  </script>
</body>
</html>
